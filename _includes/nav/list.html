{% assign subnav_class = include.subnav_class | default: 'usa-sidenav-sub_list' %}

{% for link in include.links -%}
  {% assign _where = 'page.permalink == "%"' | replace: '%', link.href %}
  {% assign _page = site.pages | where_exp: 'page', _where | first %}
  {% unless _page -%}
    {% assign _page = site.components | where_exp: 'page', _where | first %}
  {% endunless %}
  <li>
    {% if _page -%}
      {%
        include nav/page-item.html
        page=_page
        current=include.current
        flat=include.flat
        subnav_class=include.subnav_class
      %}
    {% else -%}
      {% include nav/link-item.html link=link
        subnav_class=include.subnav_class
        href_key=include.href_key
      %}
    {% endif %}
  </li>
{% endfor %}
